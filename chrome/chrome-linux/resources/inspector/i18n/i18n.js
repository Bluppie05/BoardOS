import{StringUtilities as t}from"../platform/platform.js";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(t,e,r){return t(r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&r.path)}},r.exports),r.exports}var n=r((function(t,r){var n="[object Arguments]",o="[object Map]",a="[object Object]",i="[object Set]",u=/^\[object .+?Constructor\]$/,s=/^(?:0|[1-9]\d*)$/,c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c[n]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c["[object Function]"]=c[o]=c["[object Number]"]=c[a]=c["[object RegExp]"]=c[i]=c["[object String]"]=c["[object WeakMap]"]=!1;var l="object"==typeof e&&e&&e.Object===Object&&e,f="object"==typeof self&&self&&self.Object===Object&&self,p=l||f||Function("return this")(),h=r&&!r.nodeType&&r,m=h&&t&&!t.nodeType&&t,d=m&&m.exports===h,g=d&&l.process,y=function(){try{return g&&g.binding&&g.binding("util")}catch(t){}}(),v=y&&y.isTypedArray;function b(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function _(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function w(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var j,A,F,M=Array.prototype,I=Function.prototype,O=Object.prototype,x=p["__core-js_shared__"],E=I.toString,S=O.hasOwnProperty,C=(j=/[^.]+$/.exec(x&&x.keys&&x.keys.IE_PROTO||""))?"Symbol(src)_1."+j:"",P=O.toString,z=RegExp("^"+E.call(S).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$=d?p.Buffer:void 0,D=p.Symbol,k=p.Uint8Array,T=O.propertyIsEnumerable,U=M.splice,L=D?D.toStringTag:void 0,N=Object.getOwnPropertySymbols,R=$?$.isBuffer:void 0,B=(A=Object.keys,F=Object,function(t){return A(F(t))}),V=yt(p,"DataView"),W=yt(p,"Map"),X=yt(p,"Promise"),q=yt(p,"Set"),Z=yt(p,"WeakMap"),G=yt(Object,"create"),H=wt(V),J=wt(W),K=wt(X),Q=wt(q),Y=wt(Z),tt=D?D.prototype:void 0,et=tt?tt.valueOf:void 0;function rt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function nt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function ot(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function at(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new ot;++e<r;)this.add(t[e])}function it(t){var e=this.__data__=new nt(t);this.size=e.size}function ut(t,e){var r=Ft(t),n=!r&&At(t),o=!r&&!n&&Mt(t),a=!r&&!n&&!o&&St(t),i=r||n||o||a,u=i?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],s=u.length;for(var c in t)!e&&!S.call(t,c)||i&&("length"==c||o&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||_t(c,s))||u.push(c);return u}function st(t,e){for(var r=t.length;r--;)if(jt(t[r][0],e))return r;return-1}function ct(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":L&&L in Object(t)?function(t){var e=S.call(t,L),r=t[L];try{t[L]=void 0;var n=!0}catch(t){}var o=P.call(t);n&&(e?t[L]=r:delete t[L]);return o}(t):function(t){return P.call(t)}(t)}function lt(t){return Et(t)&&ct(t)==n}function ft(t,e,r,u,s){return t===e||(null==t||null==e||!Et(t)&&!Et(e)?t!=t&&e!=e:function(t,e,r,u,s,c){var l=Ft(t),f=Ft(e),p=l?"[object Array]":bt(t),h=f?"[object Array]":bt(e),m=(p=p==n?a:p)==a,d=(h=h==n?a:h)==a,g=p==h;if(g&&Mt(t)){if(!Mt(e))return!1;l=!0,m=!1}if(g&&!m)return c||(c=new it),l||St(t)?mt(t,e,r,u,s,c):function(t,e,r,n,a,u,s){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!u(new k(t),new k(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return jt(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case o:var c=_;case i:var l=1&n;if(c||(c=w),t.size!=e.size&&!l)return!1;var f=s.get(t);if(f)return f==e;n|=2,s.set(t,e);var p=mt(c(t),c(e),n,a,u,s);return s.delete(t),p;case"[object Symbol]":if(et)return et.call(t)==et.call(e)}return!1}(t,e,p,r,u,s,c);if(!(1&r)){var y=m&&S.call(t,"__wrapped__"),v=d&&S.call(e,"__wrapped__");if(y||v){var b=y?t.value():t,j=v?e.value():e;return c||(c=new it),s(b,j,r,u,c)}}if(!g)return!1;return c||(c=new it),function(t,e,r,n,o,a){var i=1&r,u=dt(t),s=u.length,c=dt(e).length;if(s!=c&&!i)return!1;var l=s;for(;l--;){var f=u[l];if(!(i?f in e:S.call(e,f)))return!1}var p=a.get(t);if(p&&a.get(e))return p==e;var h=!0;a.set(t,e),a.set(e,t);var m=i;for(;++l<s;){f=u[l];var d=t[f],g=e[f];if(n)var y=i?n(g,d,f,e,t,a):n(d,g,f,t,e,a);if(!(void 0===y?d===g||o(d,g,r,n,a):y)){h=!1;break}m||(m="constructor"==f)}if(h&&!m){var v=t.constructor,b=e.constructor;v==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b||(h=!1)}return a.delete(t),a.delete(e),h}(t,e,r,u,s,c)}(t,e,r,u,ft,s))}function pt(t){return!(!xt(t)||function(t){return!!C&&C in t}(t))&&(It(t)?z:u).test(wt(t))}function ht(t){if(r=(e=t)&&e.constructor,n="function"==typeof r&&r.prototype||O,e!==n)return B(t);var e,r,n,o=[];for(var a in Object(t))S.call(t,a)&&"constructor"!=a&&o.push(a);return o}function mt(t,e,r,n,o,a){var i=1&r,u=t.length,s=e.length;if(u!=s&&!(i&&s>u))return!1;var c=a.get(t);if(c&&a.get(e))return c==e;var l=-1,f=!0,p=2&r?new at:void 0;for(a.set(t,e),a.set(e,t);++l<u;){var h=t[l],m=e[l];if(n)var d=i?n(m,h,l,e,t,a):n(h,m,l,t,e,a);if(void 0!==d){if(d)continue;f=!1;break}if(p){if(!b(e,(function(t,e){if(i=e,!p.has(i)&&(h===t||o(h,t,r,n,a)))return p.push(e);var i}))){f=!1;break}}else if(h!==m&&!o(h,m,r,n,a)){f=!1;break}}return a.delete(t),a.delete(e),f}function dt(t){return function(t,e,r){var n=e(t);return Ft(t)?n:function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}(n,r(t))}(t,Ct,vt)}function gt(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map}function yt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return pt(r)?r:void 0}rt.prototype.clear=function(){this.__data__=G?G(null):{},this.size=0},rt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},rt.prototype.get=function(t){var e=this.__data__;if(G){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return S.call(e,t)?e[t]:void 0},rt.prototype.has=function(t){var e=this.__data__;return G?void 0!==e[t]:S.call(e,t)},rt.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=G&&void 0===e?"__lodash_hash_undefined__":e,this},nt.prototype.clear=function(){this.__data__=[],this.size=0},nt.prototype.delete=function(t){var e=this.__data__,r=st(e,t);return!(r<0)&&(r==e.length-1?e.pop():U.call(e,r,1),--this.size,!0)},nt.prototype.get=function(t){var e=this.__data__,r=st(e,t);return r<0?void 0:e[r][1]},nt.prototype.has=function(t){return st(this.__data__,t)>-1},nt.prototype.set=function(t,e){var r=this.__data__,n=st(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},ot.prototype.clear=function(){this.size=0,this.__data__={hash:new rt,map:new(W||nt),string:new rt}},ot.prototype.delete=function(t){var e=gt(this,t).delete(t);return this.size-=e?1:0,e},ot.prototype.get=function(t){return gt(this,t).get(t)},ot.prototype.has=function(t){return gt(this,t).has(t)},ot.prototype.set=function(t,e){var r=gt(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},at.prototype.add=at.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},at.prototype.has=function(t){return this.__data__.has(t)},it.prototype.clear=function(){this.__data__=new nt,this.size=0},it.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},it.prototype.get=function(t){return this.__data__.get(t)},it.prototype.has=function(t){return this.__data__.has(t)},it.prototype.set=function(t,e){var r=this.__data__;if(r instanceof nt){var n=r.__data__;if(!W||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new ot(n)}return r.set(t,e),this.size=r.size,this};var vt=N?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,a=[];++r<n;){var i=t[r];e(i,r,t)&&(a[o++]=i)}return a}(N(t),(function(e){return T.call(t,e)})))}:function(){return[]},bt=ct;function _t(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||s.test(t))&&t>-1&&t%1==0&&t<e}function wt(t){if(null!=t){try{return E.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function jt(t,e){return t===e||t!=t&&e!=e}(V&&"[object DataView]"!=bt(new V(new ArrayBuffer(1)))||W&&bt(new W)!=o||X&&"[object Promise]"!=bt(X.resolve())||q&&bt(new q)!=i||Z&&"[object WeakMap]"!=bt(new Z))&&(bt=function(t){var e=ct(t),r=e==a?t.constructor:void 0,n=r?wt(r):"";if(n)switch(n){case H:return"[object DataView]";case J:return o;case K:return"[object Promise]";case Q:return i;case Y:return"[object WeakMap]"}return e});var At=lt(function(){return arguments}())?lt:function(t){return Et(t)&&S.call(t,"callee")&&!T.call(t,"callee")},Ft=Array.isArray;var Mt=R||function(){return!1};function It(t){if(!xt(t))return!1;var e=ct(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Ot(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function xt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Et(t){return null!=t&&"object"==typeof t}var St=v?function(t){return function(e){return t(e)}}(v):function(t){return Et(t)&&Ot(t.length)&&!!c[ct(t)]};function Ct(t){return null!=(e=t)&&Ot(e.length)&&!It(e)?ut(t):ht(t);var e}t.exports=function(t,e){return ft(t,e)}})),o=r((function(t,e){!function(t){var e,r=function(){function t(e,r,n,o){this.message=e,this.expected=r,this.found=n,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}return function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}(t,Error),t.buildMessage=function(t,e){var r={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){var e,r="";for(e=0;e<t.parts.length;e++)r+=t.parts[e]instanceof Array?a(t.parts[e][0])+"-"+a(t.parts[e][1]):a(t.parts[e]);return"["+(t.inverted?"^":"")+r+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}function a(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}return"Expected "+function(t){var e,n,o,a=new Array(t.length);for(e=0;e<t.length;e++)a[e]=(o=t[e],r[o.type](o));if(a.sort(),a.length>0){for(e=1,n=1;e<a.length;e++)a[e-1]!==a[e]&&(a[n]=a[e],n++);a.length=n}switch(a.length){case 1:return a[0];case 2:return a[0]+" or "+a[1];default:return a.slice(0,-1).join(", ")+", or "+a[a.length-1]}}(t)+" but "+function(t){return t?'"'+o(t)+'"':"end of input"}(e)+" found."},{SyntaxError:t,parse:function(e,r){r=void 0!==r?r:{};var n,o={},a={start:tt},i=tt,u=function(t){return t.join("")},s=G("{",!1),c=G(",",!1),l=G("}",!1),f=G("number",!1),p=G("date",!1),h=G("time",!1),m=G("plural",!1),d=G("selectordinal",!1),g=G("select",!1),y=G("=",!1),v=G("offset:",!1),b=J("whitespace"),_=/^[ \t\n\r]/,w=H([" ","\t","\n","\r"],!1,!1),j=J("optionalWhitespace"),A=/^[0-9]/,F=H([["0","9"]],!1,!1),M=/^[0-9a-f]/i,I=H([["0","9"],["a","f"]],!1,!0),O=G("0",!1),x=/^[1-9]/,E=H([["1","9"]],!1,!1),S=G("'",!1),C=/^[ \t\n\r,.+={}#]/,P=H([" ","\t","\n","\r",",",".","+","=","{","}","#"],!1,!1),z={type:"any"},$=/^[^{}\\\0-\x1F\x7F \t\n\r]/,D=H(["{","}","\\",["\0",""],""," ","\t","\n","\r"],!0,!1),k=G("\\\\",!1),T=G("\\#",!1),U=G("\\{",!1),L=G("\\}",!1),N=G("\\u",!1),R=0,B=0,V=[{line:1,column:1}],W=0,X=[],q=0;if("startRule"in r){if(!(r.startRule in a))throw new Error("Can't start parsing from rule \""+r.startRule+'".');i=a[r.startRule]}function Z(){return Q(B,R)}function G(t,e){return{type:"literal",text:t,ignoreCase:e}}function H(t,e,r){return{type:"class",parts:t,inverted:e,ignoreCase:r}}function J(t){return{type:"other",description:t}}function K(t){var r,n=V[t];if(n)return n;for(r=t-1;!V[r];)r--;for(n={line:(n=V[r]).line,column:n.column};r<t;)10===e.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return V[t]=n,n}function Q(t,e){var r=K(t),n=K(e);return{start:{offset:t,line:r.line,column:r.column},end:{offset:e,line:n.line,column:n.column}}}function Y(t){R<W||(R>W&&(W=R,X=[]),X.push(t))}function tt(){return et()}function et(){var t,e,r;for(t=R,e=[],r=rt();r!==o;)e.push(r),r=rt();return e!==o&&(B=t,e={type:"messageFormatPattern",elements:e,location:Z()}),t=e}function rt(){var t;return(t=function(){var t,r;return t=R,(r=function(){var t,r,n,a,i,u;if(t=R,r=[],n=R,(a=it())!==o&&(i=ht())!==o&&(u=it())!==o?n=a=[a,i,u]:(R=n,n=o),n!==o)for(;n!==o;)r.push(n),n=R,(a=it())!==o&&(i=ht())!==o&&(u=it())!==o?n=a=[a,i,u]:(R=n,n=o);else r=o;return r!==o&&(B=t,r=r.reduce((function(t,e){return t.concat(e)}),[]).join("")),(t=r)===o&&(t=R,r=at(),t=r!==o?e.substring(t,R):r),t}())!==o&&(B=t,r={type:"messageTextElement",value:r,location:Z()}),t=r}())===o&&(t=function(){var t,r,n,a,i,y,v,b;return t=R,123===e.charCodeAt(R)?(r="{",R++):(r=o,0===q&&Y(s)),r!==o&&it()!==o&&(n=function(){var t,e,r;if((t=ct())===o){for(t=R,e=[],r=lt();r!==o;)e.push(r),r=lt();e!==o&&(B=t,e=u(e)),t=e}return t}())!==o&&it()!==o?(a=R,44===e.charCodeAt(R)?(i=",",R++):(i=o,0===q&&Y(c)),i!==o&&(y=it())!==o&&(v=function(){var t;return(t=function(){var t,r,n,a,i,u,s;return t=R,"number"===e.substr(R,6)?(r="number",R+=6):(r=o,0===q&&Y(f)),r===o&&("date"===e.substr(R,4)?(r="date",R+=4):(r=o,0===q&&Y(p)),r===o&&("time"===e.substr(R,4)?(r="time",R+=4):(r=o,0===q&&Y(h)))),r!==o&&it()!==o?(n=R,44===e.charCodeAt(R)?(a=",",R++):(a=o,0===q&&Y(c)),a!==o&&(i=it())!==o&&(u=ht())!==o?n=a=[a,i,u]:(R=n,n=o),n===o&&(n=null),n!==o?(B=t,r={type:r+"Format",style:(s=n)&&s[2],location:Z()},t=r):(R=t,t=o)):(R=t,t=o),t}())===o&&(t=function(){var t,r,n,a,i;return t=R,"plural"===e.substr(R,6)?(r="plural",R+=6):(r=o,0===q&&Y(m)),r!==o&&it()!==o?(44===e.charCodeAt(R)?(n=",",R++):(n=o,0===q&&Y(c)),n!==o&&it()!==o&&(a=ot())!==o?(B=t,r={type:(i=a).type,ordinal:!1,offset:i.offset||0,options:i.options,location:Z()},t=r):(R=t,t=o)):(R=t,t=o),t}())===o&&(t=function(){var t,r,n,a,i;return t=R,"selectordinal"===e.substr(R,13)?(r="selectordinal",R+=13):(r=o,0===q&&Y(d)),r!==o&&it()!==o?(44===e.charCodeAt(R)?(n=",",R++):(n=o,0===q&&Y(c)),n!==o&&it()!==o&&(a=ot())!==o?(B=t,r={type:(i=a).type,ordinal:!0,offset:i.offset||0,options:i.options,location:Z()},t=r):(R=t,t=o)):(R=t,t=o),t}())===o&&(t=function(){var t,r,n,a,i;if(t=R,"select"===e.substr(R,6)?(r="select",R+=6):(r=o,0===q&&Y(g)),r!==o)if(it()!==o)if(44===e.charCodeAt(R)?(n=",",R++):(n=o,0===q&&Y(c)),n!==o)if(it()!==o){if(a=[],(i=nt())!==o)for(;i!==o;)a.push(i),i=nt();else a=o;a!==o?(B=t,r=function(t){return{type:"selectFormat",options:t,location:Z()}}(a),t=r):(R=t,t=o)}else R=t,t=o;else R=t,t=o;else R=t,t=o;else R=t,t=o;return t}()),t}())!==o?a=i=[i,y,v]:(R=a,a=o),a===o&&(a=null),a!==o&&(i=it())!==o?(125===e.charCodeAt(R)?(y="}",R++):(y=o,0===q&&Y(l)),y!==o?(B=t,r={type:"argumentElement",id:n,format:(b=a)&&b[2],location:Z()},t=r):(R=t,t=o)):(R=t,t=o)):(R=t,t=o),t}()),t}function nt(){var t,r,n,a,i;return t=R,it()!==o&&(r=function(){var t,r,n,a;return t=R,r=R,61===e.charCodeAt(R)?(n="=",R++):(n=o,0===q&&Y(y)),n!==o&&(a=ct())!==o?r=n=[n,a]:(R=r,r=o),(t=r!==o?e.substring(t,R):r)===o&&(t=ht()),t}())!==o&&it()!==o?(123===e.charCodeAt(R)?(n="{",R++):(n=o,0===q&&Y(s)),n!==o&&(a=et())!==o?(125===e.charCodeAt(R)?(i="}",R++):(i=o,0===q&&Y(l)),i!==o?(B=t,t={type:"optionalFormatPattern",selector:r,value:a,location:Z()}):(R=t,t=o)):(R=t,t=o)):(R=t,t=o),t}function ot(){var t,r,n,a;if(t=R,(r=function(){var t,r,n;return t=R,"offset:"===e.substr(R,7)?(r="offset:",R+=7):(r=o,0===q&&Y(v)),r!==o&&it()!==o&&(n=ct())!==o?(B=t,t=r=n):(R=t,t=o),t}())===o&&(r=null),r!==o)if(it()!==o){if(n=[],(a=nt())!==o)for(;a!==o;)n.push(a),a=nt();else n=o;n!==o?(B=t,t=r=function(t,e){return{type:"pluralFormat",offset:t,options:e,location:Z()}}(r,n)):(R=t,t=o)}else R=t,t=o;else R=t,t=o;return t}function at(){var t,r;if(q++,t=[],_.test(e.charAt(R))?(r=e.charAt(R),R++):(r=o,0===q&&Y(w)),r!==o)for(;r!==o;)t.push(r),_.test(e.charAt(R))?(r=e.charAt(R),R++):(r=o,0===q&&Y(w));else t=o;return q--,t===o&&(r=o,0===q&&Y(b)),t}function it(){var t,r,n;for(q++,t=R,r=[],n=at();n!==o;)r.push(n),n=at();return t=r!==o?e.substring(t,R):r,q--,t===o&&(r=o,0===q&&Y(j)),t}function ut(){var t;return A.test(e.charAt(R))?(t=e.charAt(R),R++):(t=o,0===q&&Y(F)),t}function st(){var t;return M.test(e.charAt(R))?(t=e.charAt(R),R++):(t=o,0===q&&Y(I)),t}function ct(){var t,r,n,a,i,u;if(t=R,48===e.charCodeAt(R)?(r="0",R++):(r=o,0===q&&Y(O)),r===o){if(r=R,n=R,x.test(e.charAt(R))?(a=e.charAt(R),R++):(a=o,0===q&&Y(E)),a!==o){for(i=[],u=ut();u!==o;)i.push(u),u=ut();i!==o?n=a=[a,i]:(R=n,n=o)}else R=n,n=o;r=n!==o?e.substring(r,R):n}return r!==o&&(B=t,r=parseInt(r,10)),t=r}function lt(){var t,r,n;return t=R,r=R,q++,39===e.charCodeAt(R)?(n="'",R++):(n=o,0===q&&Y(S)),n===o&&(C.test(e.charAt(R))?(n=e.charAt(R),R++):(n=o,0===q&&Y(P))),q--,n===o?r=void 0:(R=r,r=o),r!==o?(e.length>R?(n=e.charAt(R),R++):(n=o,0===q&&Y(z)),n!==o?(B=t,t=r=n):(R=t,t=o)):(R=t,t=o),t===o&&(t=R,39===e.charCodeAt(R)?(r="'",R++):(r=o,0===q&&Y(S)),r!==o&&(n=function(){var t;return C.test(e.charAt(R))?(t=e.charAt(R),R++):(t=o,0===q&&Y(P)),t===o&&(t=ft()),t}())!==o?(B=t,t=r=n):(R=t,t=o)),t}function ft(){var t;return 39===e.charCodeAt(R)?(t="'",R++):(t=o,0===q&&Y(S)),t}function pt(){var t,r,n,a,i,u,s,c,l;return t=R,39===e.charCodeAt(R)?(r="'",R++):(r=o,0===q&&Y(S)),r!==o&&(n=ft())!==o?(B=t,t=r=n):(R=t,t=o),t===o&&($.test(e.charAt(R))?(t=e.charAt(R),R++):(t=o,0===q&&Y(D)),t===o&&(t=R,"\\\\"===e.substr(R,2)?(r="\\\\",R+=2):(r=o,0===q&&Y(k)),r!==o&&(B=t,r="\\"),(t=r)===o&&(t=R,"\\#"===e.substr(R,2)?(r="\\#",R+=2):(r=o,0===q&&Y(T)),r!==o&&(B=t,r="\\#"),(t=r)===o&&(t=R,"\\{"===e.substr(R,2)?(r="\\{",R+=2):(r=o,0===q&&Y(U)),r!==o&&(B=t,r="{"),(t=r)===o&&(t=R,"\\}"===e.substr(R,2)?(r="\\}",R+=2):(r=o,0===q&&Y(L)),r!==o&&(B=t,r="}"),(t=r)===o&&(t=R,"\\u"===e.substr(R,2)?(r="\\u",R+=2):(r=o,0===q&&Y(N)),r!==o?(n=R,a=R,(i=st())!==o&&(u=st())!==o&&(s=st())!==o&&(c=st())!==o?a=i=[i,u,s,c]:(R=a,a=o),(n=a!==o?e.substring(n,R):a)!==o?(B=t,l=n,t=r=String.fromCharCode(parseInt(l,16))):(R=t,t=o)):(R=t,t=o))))))),t}function ht(){var t,e,r;if(t=R,e=[],(r=pt())!==o)for(;r!==o;)e.push(r),r=pt();else e=o;return e!==o&&(B=t,e=u(e)),t=e}if((n=i())!==o&&R===e.length)return n;throw n!==o&&R<e.length&&Y({type:"end"}),function(e,r,n){return new t(t.buildMessage(e,r),e,r,n)}(X,W<e.length?e.charAt(W):null,W<e.length?Q(W,W+1):Q(W,W))}}}(),n=(e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,r)},function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}),o=function(){function t(t,e,r){this.locales=[],this.formats={number:{},date:{},time:{}},this.pluralNumberFormat=null,this.currentPlural=null,this.pluralStack=[],this.locales=t,this.formats=e,this.formatters=r}return t.prototype.compile=function(t){return this.pluralStack=[],this.currentPlural=null,this.pluralNumberFormat=null,this.compileMessage(t)},t.prototype.compileMessage=function(t){var e=this;if(!t||"messageFormatPattern"!==t.type)throw new Error('Message AST is not of type: "messageFormatPattern"');var r=t.elements,n=r.filter((function(t){return"messageTextElement"===t.type||"argumentElement"===t.type})).map((function(t){return"messageTextElement"===t.type?e.compileMessageText(t):e.compileArgument(t)}));if(n.length!==r.length)throw new Error("Message element does not have a valid type");return n},t.prototype.compileMessageText=function(t){return this.currentPlural&&/(^|[^\\])#/g.test(t.value)?(this.pluralNumberFormat||(this.pluralNumberFormat=new Intl.NumberFormat(this.locales)),new s(this.currentPlural.id,this.currentPlural.format.offset,this.pluralNumberFormat,t.value)):t.value.replace(/\\#/g,"#")},t.prototype.compileArgument=function(t){var e=t.format,r=t.id,n=this.formatters;if(!e)return new i(r);var o=this.formats,a=this.locales;switch(e.type){case"numberFormat":return{id:r,format:n.getNumberFormat(a,o.number[e.style]).format};case"dateFormat":return{id:r,format:n.getDateTimeFormat(a,o.date[e.style]).format};case"timeFormat":return{id:r,format:n.getDateTimeFormat(a,o.time[e.style]).format};case"pluralFormat":return new u(r,e.offset,this.compileOptions(t),n.getPluralRules(a,{type:e.ordinal?"ordinal":"cardinal"}));case"selectFormat":return new c(r,this.compileOptions(t));default:throw new Error("Message element does not have a valid format type")}},t.prototype.compileOptions=function(t){var e=this,r=t.format,n=r.options;this.pluralStack.push(this.currentPlural),this.currentPlural="pluralFormat"===r.type?t:null;var o=n.reduce((function(t,r){return t[r.selector]=e.compileMessage(r.value),t}),{});return this.currentPlural=this.pluralStack.pop(),o},t}(),a=function(t){this.id=t},i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.format=function(t){return t||"number"==typeof t?"string"==typeof t?t:String(t):""},e}(a),u=function(){function t(t,e,r,n){this.id=t,this.offset=e,this.options=r,this.pluralRules=n}return t.prototype.getOption=function(t){var e=this.options;return e["="+t]||e[this.pluralRules.select(t-this.offset)]||e.other},t}(),s=function(t){function e(e,r,n,o){var a=t.call(this,e)||this;return a.offset=r,a.numberFormat=n,a.string=o,a}return n(e,t),e.prototype.format=function(t){var e=this.numberFormat.format(t-this.offset);return this.string.replace(/(^|[^\\])#/g,"$1"+e).replace(/\\#/g,"#")},e}(a),c=function(){function t(t,e){this.id=t,this.options=e}return t.prototype.getOption=function(t){var e=this.options;return e[t]||e.other},t}(),l=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),f=function(){return(f=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function p(t){"string"==typeof t&&(t=[t]);try{return Intl.NumberFormat.supportedLocalesOf(t,{localeMatcher:"best fit"})[0]}catch(t){return g.defaultLocale}}function h(t,e){return e?Object.keys(t).reduce((function(r,n){var o,a;return r[n]=(o=t[n],(a=e[n])?f({},o||{},a||{},Object.keys(o).reduce((function(t,e){return t[e]=f({},o[e],a[e]||{}),t}),{})):o),r}),f({},t)):t}var m=function(t){function e(e,r){var n=t.call(this,e)||this;return n.variableId=r,n}return l(e,t),e}(Error);function d(){return{getNumberFormat:function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return new((t=Intl.NumberFormat).bind.apply(t,[void 0].concat(e)))},getDateTimeFormat:function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return new((t=Intl.DateTimeFormat).bind.apply(t,[void 0].concat(e)))},getPluralRules:function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return new((t=Intl.PluralRules).bind.apply(t,[void 0].concat(e)))}}}var g=function(){function t(e,r,n,a){var i=this;if(void 0===r&&(r=t.defaultLocale),this.format=function(t){try{return function t(e,r){for(var n="",o=0,a=e;o<a.length;o++){var i=a[o];if("string"!=typeof i){var u=i.id;if(!r||!(u in r))throw new m("A value must be provided for: "+u,u);var s=r[u];i.options?n+=t(i.getOption(s),r):n+=i.format(s)}else n+=i}return n}(i.pattern,t)}catch(t){throw t.variableId?new Error("The intl string context variable '"+t.variableId+"' was not provided to the string '"+i.message+"'"):t}},"string"==typeof e){if(!t.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=t.__parse(e)}else this.ast=e;if(this.message=e,!this.ast||"messageFormatPattern"!==this.ast.type)throw new TypeError("A message must be provided as a String or AST.");var u=h(t.formats,n);this.locale=p(r||[]);var s=a&&a.formatters||d();this.pattern=new o(r,u,s).compile(this.ast)}return t.prototype.resolvedOptions=function(){return{locale:this.locale}},t.prototype.getAst=function(){return this.ast},t.defaultLocale="en",t.__parse=void 0,t.formats={number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},t}();g.__parse=r.parse,t.IntlMessageFormat=g,t.createDefaultFormatters=d,t.default=g,Object.defineProperty(t,"__esModule",{value:!0})}(e)}));
/**
 * @license Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0
 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
 */
const a={"en-US":{title:"value"},"en-XL":{title:"value"}},i=o.default,u=/(.* \| .*) # (\d+)$/,s=/ # \d+$/,c={number:{bytes:{maximumFractionDigits:0},milliseconds:{maximumFractionDigits:0},seconds:{minimumFractionDigits:1,maximumFractionDigits:1},extendedPercent:{maximumFractionDigits:2,style:"percent"}}};function l(t,e=new Map){for(const r of t)if("argumentElement"===r.type&&(e.set(r.id,r),r.format&&"pluralFormat"===r.format.type))for(const t of r.format.options)l(t.value.elements,e);return e}const f=new Map;function p(t,e,r){const n=a[t];if(!n)throw new Error(`Unsupported locale '${t}'`);let o=n[e]&&n[e].message;if(!o&&r&&(o=r,a["en-US"][e]&&o===a["en-US"][e].message||console.log("i18n",`Message "${e}" does not match its 'en-US' counterpart. Run 'i18n' to update.`)),!o)throw new Error("ICU message not found in destination locale");return{localeMessage:o,formatter:new i(o,"en-XA"===t||"en-XL"===t?"de-DE":t,c)}}function h(t,e,r={}){const n=function(t,e,r){const n=[...l(e.getAst().elements).values()],o={};for(const{id:e,format:a}of n){if(e&&e in r==!1)throw new Error(`ICU Message "${t}" contains a value reference ("${e}") that wasn't provided`);const n=r[e];if(a&&"numberFormat"===a.type){if("number"!=typeof n)throw new Error(`ICU Message "${t}" contains a numeric reference ("${e}") but provided value was not a number`);"milliseconds"===a.style?o[e]=10*Math.round(n/10):"seconds"===a.style&&"timeInMs"===e?o[e]=Math.round(n/100)/10:"bytes"===a.style?o[e]=n/1024:o[e]=n}else o[e]=n}for(const e of Object.keys(r))if(!(e in o)){if("errorCode"!==e)throw new Error(`Provided value "${e}" does not match any placeholder in ICU message "${t}"`);o.errorCode=r.errorCode}return o}(t,e,r);return{formattedString:e.format(n),icuMessage:t}}function m(t){let e="";for(const r of t)if(/^[a-z]+$/i.test(r))e.length&&(e+="."),e+=r;else{if(/]|"|'|\s/.test(r))throw new Error(`Cannot handle "${r}" in i18n`);e+=`[${r}]`}return e}function d(t){return s.test(t)&&u.test(t)}function g(t){const e=t.match(u);if(!e)throw new Error(t+" is not a valid message instance ID");const[r,n,o]=e;return{icuMessageId:n,icuMessageInstance:(f.get(n)||[])[Number(o)]}}function y(t){this.message="Could not locate: "+t}y.prototype=new Error;var v={_formatPathAsString:m,_ICUMsgNotFoundMsg:"ICU message not found in destination locale",lookupLocale:function(t){return function(t,e){const r=t.split("-");for(;r.length;){let t=r.join("-");if(e[t])return t;r.pop()}}(Intl.getCanonicalLocales(t)[0],a)||"en-US"},getRendererFormattedStrings:function(t){const e=a[t];if(!e)throw new Error(`Unsupported locale '${t}'`);const r=Object.keys(e).filter(t=>t.includes("ModuleUIStrings")),n={};for(const t of r){const[r,o]=t.split(" | ");n[o]=e[t].message}return n},createMessageInstanceIdFn:function(t,e){return(r,o)=>{const a=Object.keys(e).find(t=>e[t]===r);if(!a)throw new y(r);const i=`${t.replace(/\\/g,"/")} | ${a}`,u=f.get(i)||[];let s=u.findIndex(t=>n(t.values,o));return-1===s&&(u.push({icuMessageId:i,icuMessage:r,values:o}),s=u.length-1),f.set(i,u),`${i} # ${s}`}},getFormatted:function(t,e){if(d(t)){const{icuMessageId:r,icuMessageInstance:n}=g(t),{localeMessage:o,formatter:a}=p(e,r,n.icuMessage),{formattedString:i}=h(o,a,n.values);return i}return t},getFormatter:function(t,e){if(d(t)){const{icuMessageId:r,icuMessageInstance:n}=g(t),{formatter:o}=p(e,r,n.icuMessage);return o}return t},getFormattedFromIdAndValues:function(t,e,r){if(!/(.* \| .*)$/.test(e))throw new Error("This is not an ICU message ID");const{localeMessage:n,formatter:o}=p(t,e,void 0),{formattedString:a}=h(n,o,r);return a},replaceIcuMessageInstanceIds:function(t,e){const r={};return function t(r,n,o=[]){if("object"==typeof r&&r)for(const[a,i]of Object.entries(r)){const u=o.concat([a]);if("string"==typeof i&&d(i)){const{icuMessageId:t,icuMessageInstance:o}=g(i),{localeMessage:s,formatter:c}=p(e,t,o.icuMessage),{formattedString:l}=h(s,c,o.values),f=n[o.icuMessageId]||[],d=m(u);f.push(o.values?{values:o.values,path:d}:d),r[a]=l,n[o.icuMessageId]=f}else t(i,n,u)}}(t,r),r},isIcuMessage:d,collectAllCustomElementsFromICU:l,registerLocaleData:function(t,e){a[t]=e},idNotInMainDictionaryException:y};const b=v.registerLocaleData;let _,w;function j(e,r){const n={s:t=>t};return t.format(e,r,n,document.createElement("span"),(function(t,e){return t.appendChild("string"==typeof e?document.createTextNode(e):e),t})).formattedResult}var A=Object.freeze({__proto__:null,registerLocaleData:b,get registeredLocale(){return _},registerLocale:function(t){_=v.lookupLocale(t)},getLocalizedString:function(t,e,r={}){const n=t(e,r);return v.getFormatted(n,_)},registerUIStrings:function(t,e){return w=w||v.getRendererFormattedStrings(_),(r,n)=>{try{return v.createMessageInstanceIdFn(t,e)(r,n)}catch(t){if(t instanceof v.idNotInMainDictionaryException){const t=Object.getOwnPropertyNames(w),e=t.indexOf(r);if(e>=0)return t[e]}return r}}},getFormatLocalizedString:function(t,e,r){const n=t(e,r),o=v.getFormatter(n,_).getAst().elements,a=[];let i="";for(const t of o){if("argumentElement"===t.type){const e=r[t.id];e&&(a.push(e),t.value="%s")}i+=t.value}return j(i,a)},formatLocalized:j});export{A as i18n};
